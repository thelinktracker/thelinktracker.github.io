# The Link Tracker – Rebrandly Affiliate Dashboard

> A lightweight, server-less dashboard that lets content-creators track clicks and revenue generated by their unique Rebrandly affiliate links while giving the marketing team a single place to follow overall performance and payments.

![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Active-brightgreen)
![Supabase](https://img.shields.io/badge/Supabase-Connected-blue)
![Make.com](https://img.shields.io/badge/Make.com-Automated-orange)

---

## ✨ What it does

1. **Creator view (`dashboard.html?ref=alias`)**  
   • Displays real-time clicks collected from Rebrandly  
   • Calculates estimated revenue ( clicks × commission )  
   • Shows payment history & remaining balance  
   • Works on mobile & desktop, no login required

2. **Admin view (`admin.html`)**  
   • Protected by Supabase Auth (email / password)  
   • Add a new creator with alias, Rebrandly link & commission rate  
   • One-click *Pay* modal to log a payment (amount + comment)  
   • *Delete* button removes a creator **and** associated payments  
   • Table is sorted by highest outstanding balance  
   • Totals for revenue / paid / remaining at the bottom

3. **Automation**  
   • Hourly Make.com scenario pulls the latest click-counts from Rebrandly and updates Supabase  
   • The dash refreshes instantly because it reads directly from Supabase's `affiliates_stats` & `payments` tables

---

## 📸 Quick demo

Creator test link (feel free to open):
```
https://thelinktracker.github.io/dashboard.html?ref=test
```

Admin panel (requires credentials):
```
https://thelinktracker.github.io/login.html
```

---

## 🗺️ Project structure
```
/                   # GitHub Pages root
├── index.html      # Redirects to the last viewed dashboard
├── dashboard.html  # Public creator dashboard
├── admin.html      # Admin panel (protected)
├── login.html      # Admin login
├── style.css       # Shared styles
├── app.js          # Creator dashboard logic
├── ACTION_PLAN.md  # High-level roadmap
├── TASKS.md        # Detailed TODO list
├── SETUP_AUTH.md   # Supabase Auth setup guide
└── make_scenario.json # Make.com scenario definition
```

---

## 🛠️ Tech stack

| Layer | Service | Notes |
|-------|---------|-------|
| Link management | **Rebrandly** | Each creator gets a branded link (slashtag = alias) |
| Database & Auth | **Supabase**  | `affiliates_stats` & `payments` (+ RLS) |
| Automation      | **Make.com**  | Hourly sync Rebrandly → Supabase |
| Hosting         | **GitHub Pages** | Pure HTML/CSS/JS, no backend needed |

---

## 🔒 Security

* **Row Level Security** – Public **read-only** access, writes limited to authenticated users.
* **Anon key only** – No `service_role` keys in client code.
* **XSS protection** – All dynamic output is safely escaped.
* **HTTPS** – Enforced by GitHub Pages.

See [`SECURITY.md`](SECURITY.md) for the full report.

---

## 🚀 Getting started (local development)

1. **Clone** the repo and open the files in any static server (Live Server, `python -m http.server`, etc.).  
2. Copy `.env.example` → `.env` and fill in your Supabase *anon* key & URL (or keep the hard-coded public project if you're testing).  
3. Update the Make.com scenario with your Rebrandly & Supabase keys, set the schedule to hourly.  
4. Push to a `<user>.github.io` repository to have it live instantly on GitHub Pages.

> ℹ️ The project is intentionally backend-less: all heavy-lifting lives in Supabase and Make.com.

---

## 📈 How the data flows

```mermaid
graph TD
    A[Click on Rebrandly link] --> B(Rebrandly analytics)
    B -->|Make.com hourly job| C[Supabase "affiliates_stats"]
    C -->|Client fetch| D[Creator dashboard]
    D --> E[Creator sees revenue]
    C -->|Client fetch| F[Admin dashboard]
    F --> G[Marketing team logs payment]
    G --> H[Supabase "payments"]
    H --> D
```

---

## 💡 Next up

* Multi-currency support  
* Webhooks instead of hourly polling  
* CSV export for accounting  
* 2-factor Auth for admin accounts

---

Made with ❤️ to help creators get paid – and to power the marketing of our mobile app. 