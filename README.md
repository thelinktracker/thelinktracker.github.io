# The Link Tracker â€“ Rebrandly Affiliate Dashboard

> A lightweight, server-less dashboard that lets content-creators track clicks and revenue generated by their unique Rebrandly affiliate links while giving the marketing team a single place to follow overall performance and payments.

![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Active-brightgreen)
![Supabase](https://img.shields.io/badge/Supabase-Connected-blue)
![Make.com](https://img.shields.io/badge/Make.com-Automated-orange)

---

## âœ¨ What it does

1. **Creator view (`dashboard.html?ref=alias`)**  
   â€¢ Displays real-time clicks collected from Rebrandly  
   â€¢ Calculates estimated revenue ( clicks Ã— commission )  
   â€¢ Shows payment history & remaining balance  
   â€¢ Works on mobile & desktop, no login required

2. **Admin view (`admin.html`)**  
   â€¢ Protected by Supabase Auth (email / password)  
   â€¢ Add a new creator with alias, Rebrandly link & commission rate  
   â€¢ One-click *Pay* modal to log a payment (amount + comment)  
   â€¢ *Delete* button removes a creator **and** associated payments  
   â€¢ Table is sorted by highest outstanding balance  
   â€¢ Totals for revenue / paid / remaining at the bottom

3. **Automation**  
   â€¢ Hourly Make.com scenario pulls the latest click-counts from Rebrandly and updates Supabase  
   â€¢ The dash refreshes instantly because it reads directly from Supabase's `affiliates_stats` & `payments` tables

---

## ğŸ“¸ Quick demo

Creator test link (feel free to open):
```
https://thelinktracker.github.io/dashboard.html?ref=test
```

Admin panel (requires credentials):
```
https://thelinktracker.github.io/login.html
```

---

## ğŸ—ºï¸ Project structure
```
/                   # GitHub Pages root
â”œâ”€â”€ index.html      # Redirects to the last viewed dashboard
â”œâ”€â”€ dashboard.html  # Public creator dashboard
â”œâ”€â”€ admin.html      # Admin panel (protected)
â”œâ”€â”€ login.html      # Admin login
â”œâ”€â”€ style.css       # Shared styles
â”œâ”€â”€ app.js          # Creator dashboard logic
â”œâ”€â”€ ACTION_PLAN.md  # High-level roadmap
â”œâ”€â”€ TASKS.md        # Detailed TODO list
â”œâ”€â”€ SETUP_AUTH.md   # Supabase Auth setup guide
â””â”€â”€ make_scenario.json # Make.com scenario definition
```

---

## ğŸ› ï¸ Tech stack

| Layer | Service | Notes |
|-------|---------|-------|
| Link management | **Rebrandly** | Each creator gets a branded link (slashtag = alias) |
| Database & Auth | **Supabase**  | `affiliates_stats` & `payments` (+ RLS) |
| Automation      | **Make.com**  | Hourly sync Rebrandly â†’ Supabase |
| Hosting         | **GitHub Pages** | Pure HTML/CSS/JS, no backend needed |

---

## ğŸ”’ Security

* **Row Level Security** â€“ Public **read-only** access, writes limited to authenticated users.
* **Anon key only** â€“ No `service_role` keys in client code.
* **XSS protection** â€“ All dynamic output is safely escaped.
* **HTTPS** â€“ Enforced by GitHub Pages.

See [`SECURITY.md`](SECURITY.md) for the full report.

---

## ğŸš€ Getting started (local development)

1. **Clone** the repo and open the files in any static server (Live Server, `python -m http.server`, etc.).  
2. Copy `.env.example` â†’ `.env` and fill in your Supabase *anon* key & URL (or keep the hard-coded public project if you're testing).  
3. Update the Make.com scenario with your Rebrandly & Supabase keys, set the schedule to hourly.  
4. Push to a `<user>.github.io` repository to have it live instantly on GitHub Pages.

> â„¹ï¸ The project is intentionally backend-less: all heavy-lifting lives in Supabase and Make.com.

---

## ğŸ“ˆ How the data flows

```mermaid
graph TD
    A[Click on Rebrandly link] --> B(Rebrandly analytics)
    B -->|Make.com hourly job| C[Supabase "affiliates_stats"]
    C -->|Client fetch| D[Creator dashboard]
    D --> E[Creator sees revenue]
    C -->|Client fetch| F[Admin dashboard]
    F --> G[Marketing team logs payment]
    G --> H[Supabase "payments"]
    H --> D
```

---

## ğŸ’¡ Next up

* Multi-currency support  
* Webhooks instead of hourly polling  
* CSV export for accounting  
* 2-factor Auth for admin accounts

---

Made with â¤ï¸ to help creators get paid â€“ and to power the marketing of our mobile app. 